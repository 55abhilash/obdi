<!--
 Obdi - a REST interface and GUI for deploying software
 Copyright (C) 2014  Mark Clarkson

 This program is free software: you can redistribute it and/or modify
 it under the terms of the GNU General Public License as published by
 the Free Software Foundation, either version 3 of the License, or
 (at your option) any later version.

 This program is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 GNU General Public License for more details.

 You should have received a copy of the GNU General Public License
 along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->

<div class="col-sm-9" ng-controller="userCtrl">
  <div class="panel panel-default shadow">
    <div class="panel-heading"> <strong class="">Users</strong>
    </div>

    <!-- USER DETAILS -->

    <div ng-include="'frag/users-main.html'" ng-if="!(adduser || edituser)">
    </div>

    <!-- ADD USER -->

    <div class="panel-body" ng-if="adduser">

      <form name="userForm" novalidate ng-submit="Apply()">

      <button class="btn btn-sm btn-default append-xs-tiny" type="button"
      ng-click="AddUser(false)">
      <i class="fa fa-arrow-left"> </i> Go Back</button>

      <button class="btn btn-sm btn-success append-xs-tiny" type="submit"
        ng-disabled="userForm.$invalid">
        <!--ng-click="Apply()"> -->
      <i class="fa fa-check"> </i> Apply</button>

      <h4 class="append-xs-tiny pull-right formhdng">Add New User</h4>

      <uib-tabset class="prepend-xs-tiny">
        <uib-tab ng-repeat="tab in addusertabs" heading="{{tab.title}}">
          <div ng-include="tab.content"></div>
        </uib-tab>
      </uib-tabset>

      </form>

    </div>

  <!-- EDIT USER -->

    <div class="panel-body" ng-if="edituser">

      <form name="userEditForm" novalidate ng-submit="EditApply()">

      <button class="btn btn-sm btn-default append-xs-tiny" type="button"
      ng-click="EditUser(false)">
      <i class="fa fa-arrow-left"> </i> Go Back</button>

      <button class="btn btn-sm btn-success append-xs-tiny" type="submit"
        ng-disabled="userEditForm.$invalid">
        <!--ng-click="Apply()"> -->
      <i class="fa fa-check"> </i> Apply</button>

      <h4 class="append-xs-tiny pull-right formhdng">Edit User Details</h4>

      <uib-tabset class="prepend-xs-tiny">
        <uib-tab ng-repeat="tab in editUserTabs()" heading="{{tab.title}}">
          <div ng-include="tab.content"></div>
        </uib-tab>
      </uib-tabset>

      </form>
    </div>
  </div>
</div>
