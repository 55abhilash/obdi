<!--
 Obdi - a REST interface and GUI for deploying software
 Copyright (C) 2014  Mark Clarkson

 This program is free software: you can redistribute it and/or modify
 it under the terms of the GNU General Public License as published by
 the Free Software Foundation, either version 3 of the License, or
 (at your option) any later version.

 This program is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 GNU General Public License for more details.

 You should have received a copy of the GNU General Public License
 along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->

<div class="col-sm-9" ng-controller="envCtrl">
  <div class="panel panel-default shadow">
    <div class="panel-heading"> <strong class="">Environments</strong>
    </div>

    <!-- ENV DETAILS -->

    <div ng-include="'frag/envs-main.html'"
      ng-if="!(addenv || editenv || managecaps)">
    </div>

    <!-- ADD ENV -->

    <div class="panel-body" ng-if="addenv">

      <form name="envForm" novalidate ng-submit="Apply()">

      <button class="btn btn-sm btn-default append-xs-tiny" type="button"
      ng-click="AddEnv(false)">
      <i class="fa fa-arrow-left"> </i> Go Back</button>

      <button class="btn btn-sm btn-success append-xs-tiny" type="submit"
        ng-disabled="envForm.$invalid">
        <!--ng-click="Apply()"> -->
      <i class="fa fa-check"> </i> Apply</button>

      <h4 class="append-xs-tiny pull-right formhdng">Add Environment</h4>

      <uib-tabset class="prepend-xs-tiny">
        <uib-tab ng-repeat="tab in addenvtabs" heading="{{tab.title}}">
          <div ng-include="tab.content"></div>
        </uib-tab>
      </uib-tabset>

      </form>

    </div>

  <!-- EDIT ENV -->

    <div class="panel-body" ng-if="editenv">

      <form name="envEditForm" novalidate ng-submit="EditApply()">

      <button class="btn btn-sm btn-default append-xs-tiny" type="button"
      ng-click="EditEnv(false)">
      <i class="fa fa-arrow-left"> </i> Go Back</button>

      <button class="btn btn-sm btn-success append-xs-tiny" type="submit"
        ng-disabled="envEditForm.$invalid">
        <!--ng-click="Apply()"> -->
      <i class="fa fa-check"> </i> Apply</button>

      <h4 class="append-xs-tiny pull-right formhdng">Edit Environment Details</h4>

      <uib-tabset class="prepend-xs-tiny">
        <uib-tab ng-repeat="tab in editenvtabs" heading="{{tab.title}}">
          <div ng-include="tab.content"></div>
        </uib-tab>
      </uib-tabset>

      </form>
  </div>

  <!-- MANAGE CAPABILITES -->

  <div ng-include="'frag/envs-managecaps.html'" ng-if="managecaps">
  </div>

</div>
