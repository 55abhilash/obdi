<!--
 Obdi - a REST interface and GUI for deploying software
 Copyright (C) 2014  Mark Clarkson

 This program is free software: you can redistribute it and/or modify
 it under the terms of the GNU General Public License as published by
 the Free Software Foundation, either version 3 of the License, or
 (at your option) any later version.

 This program is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 GNU General Public License for more details.

 You should have received a copy of the GNU General Public License
 along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->

<!-- <h4 class="append-xs-tiny pull-right">New User Details</h4> -->

<div class="form-horizontal prepend-xs-1" role="form">

  <div class="alert alert-danger" ng-show="message">
    {{message}}
  </div>
  <div class="alert alert-success" ng-show="okmessage">
    {{okmessage}}
  </div>

	<p ng-if="!pluginsAvailFinished">Getting available plugins
    <i class="ellipsis"><i>.</i><i>.</i><i>.</i></i></p>

  <div ng-if="pluginsAvailFinished">

    <p>Installable plugins:</p>

    <div class="table-responsive" style="margin-top: 8px;">
      <table class="table table-striped table-bordered">
        <thead>
        <tr>
          <th>Plugin Name</th>
          <th>Description</th>
          <th>Action</th>
        </tr>
        </thead>
        <tbody>
          <tr ng-repeat="plugin in filteredItems =
            (pluginsAvail | filter:pluginsAvailfilter)">
          <td>{{plugin.Name}}</td>
          <td>{{plugin.Description}}
            <a href="#" ng-click="ChangeServerVersion(server)"
            ng-if="server.Selected">
              <i class="fa fa-plus-square" title="Change Version"></i></a>
          </td>
          <td>
            <button class="btn btn-sm btn-success append-xs-tiny"
              ng-click="RestAddPlugin(plugin.Name)"
              ng-if="!pluginsAvailMeta[$index].Disabled">Add</button>
            <button class="btn btn-sm btn-success append-xs-tiny"
              ng-disabled="true"
              ng-if="pluginsAvailMeta[$index].Disabled">Installing
              <i class="ellipsis"><i>.</i><i>.</i><i>.</i></i>
            </button>
          <!--
            <a href="#" ng-click="ViewDetails(server)">
              <i class="fa fa-eye" title="View Server Grains"></i></a>
            <a href="#" ng-click="ViewConfig(server)"
            ng-if="server.Selected">
              <i class="fa fa-cog" title="Server Configuration"></i></a>
            -->
          </td>
        </tr>
        </tbody>
      </table>
    </div> <!-- /table-responsive -->
  </div> <!-- ng-if -->
</div>
