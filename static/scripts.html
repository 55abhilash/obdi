<!--
 Obdi - a REST interface and GUI for deploying software
 Copyright (C) 2014  Mark Clarkson

 This program is free software: you can redistribute it and/or modify
 it under the terms of the GNU General Public License as published by
 the Free Software Foundation, either version 3 of the License, or
 (at your option) any later version.

 This program is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 GNU General Public License for more details.

 You should have received a copy of the GNU General Public License
 along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->

<div class="col-sm-9" ng-controller="scriptCtrl">
  <div class="panel panel-default shadow">
    <div class="panel-heading"> <strong class="">Scripts</strong>
    </div>

    <!-- SCRIPT DETAILS -->

    <div ng-include="'frag/scripts-main.html'"
      ng-if="!(addscript || editscript)">
    </div>

    <!-- ADD SCRIPT -->

    <div class="panel-body" ng-if="addscript">

      <form name="scriptForm" novalidate ng-submit="Apply()">

      <button class="btn btn-sm btn-default append-xs-tiny" type="button"
      ng-click="AddScript(false)">
      <i class="fa fa-arrow-left"> </i> Go Back</button>

      <button class="btn btn-sm btn-success append-xs-tiny" type="submit"
        ng-disabled="scriptForm.$invalid">
        <!--ng-click="Apply()"> -->
      <i class="fa fa-check"> </i> Apply</button>

      <h4 class="append-xs-tiny pull-right formhdng">Add New Script</h4>

      <uib-tabset class="prepend-xs-tiny">
        <uib-tab ng-repeat="tab in addscripttabs" heading="{{tab.title}}">
          <div ng-include="tab.content"></div>
        </uib-tab>
      </uib-tabset>

      </form>

    </div>

  <!-- EDIT SCRIPT -->

    <div class="panel-body" ng-if="editscript">

      <form name="scriptEditForm" novalidate ng-submit="EditApply()">

      <button class="btn btn-sm btn-default append-xs-tiny" type="button"
      ng-click="EditScript(false)">
      <i class="fa fa-arrow-left"> </i> Go Back</button>

      <button class="btn btn-sm btn-success append-xs-tiny" type="submit"
        ng-disabled="scriptEditForm.$invalid">
        <!--ng-click="Apply()"> -->
      <i class="fa fa-check"> </i> Apply</button>

      <h4 class="append-xs-tiny pull-right formhdng">Edit Script Details</h4>

      <uib-tabset class="prepend-xs-tiny">
        <uib-tab ng-repeat="tab in editscripttabs" heading="{{tab.title}}">
          <div ng-include="tab.content"></div>
        </uib-tab>
      </uib-tabset>

      </form>
    </div>
  </div>
</div>
